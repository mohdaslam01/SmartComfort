<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SmartComfort</title>
  <script src="checkpoint.js"></script>
  <style>
    :root{
      --bg: #f6fafb;               /* airy white-blue */
      --panel: #ffffff;            /* cards */
      --accent: #e6f7f1;           /* light green tint */
      --accent-2:#eef5ff;          /* light blue tint */
      --cream: #fff9f0;            /* light creamy */
      --text:#1f2a37;
      --muted:#4b5563;
      --brand:#0ea5e9;             /* blue */
      --brand-2:#10b981;           /* green */
      --shadow: 0 10px 30px rgba(0,0,0,.08);
      --radius: 18px;
    }

    /* Page */
    html, body { height: 100%; }
    body {
      font-family: Arial, Helvetica, sans-serif;
      margin: 0;
      background:
        radial-gradient(1200px 600px at 90% -10%, var(--accent) 0%, transparent 40%),
        radial-gradient(1000px 700px at -10% 110%, var(--accent-2) 0%, transparent 45%),
        radial-gradient(900px 600px at 110% 60%, var(--cream) 0%, transparent 40%),
        var(--bg);
      color: var(--text);
      padding: 28px;
    }

    /* Page heading */
    h1 {
      color: var(--text);
      letter-spacing: .3px;
      margin: 0 0 16px 0;
      font-size: 28px;
    }

    /* Keep your original styles intact (no breakage) */
    .sensor { margin-bottom: 10px; }

    /* Diplomatic layout: left content + right controls (without changing your DOM order) */
    /* Your existing <span> becomes the grid container */
    body > span {
      display: grid;
      grid-template-columns: 1fr 320px;
      gap: 22px;
      align-items: start;
    }

    /* Left column: first inner <div> = Output section */
    body > span > div:nth-of-type(1) {
      grid-column: 1;
      background: var(--panel);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 22px;
      border: 1px solid #eef2f7;
    }

    /* Right column panels: second and third inner <div> = Buttons & Graph panel */
    body > span > div:nth-of-type(2),
    body > span > div:nth-of-type(3) {
      grid-column: 2;
      background: var(--panel);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
      border: 1px solid #eef2f7;
      position: sticky;
      top: 22px; /* subtle stickiness while scrolling */
    }

    /* Subheadings */
    h3 {
      margin: 0 0 12px 0;
      color: var(--muted);
      font-weight: 600;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: .06em;
    }

    /* Output title size reduced per your preference for elegance */
    div h1 {
      font-size: 22px;
      margin: 6px 0 14px 0;
      color: #0f172a;
    }

    /* Output container */
    #output {
      background: linear-gradient(180deg, #ffffff 0%, #fbfeff 100%);
      border: 1px solid #e7eef7;
      border-radius: 14px;
      padding: 14px 16px;
      line-height: 1.5;
    }

    /* Link to Live Server */
    a {
      display: inline-block;
      margin-top: 10px;
      text-decoration: none;
      color: #0ea5e9;
      font-weight: 600;
    }
    a:hover { text-decoration: underline; }

    /* Buttons: diplomatic, modern, accessible */
    button {
      width: 100%;
      display: block;
      text-align: center;
      padding: 12px 14px;
      margin: 8px 0;
      border-radius: 14px;
      border: 1px solid #dbe8f5;
      background: linear-gradient(180deg, #ffffff 0%, #f2fbff 100%);
      color: #0b4c6f;
      font-weight: 700;
      letter-spacing: .2px;
      cursor: pointer;
      box-shadow: 0 4px 16px rgba(14,165,233,.08);
      transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
    }
    button:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 24px rgba(14,165,233,.14);
      background: linear-gradient(180deg, #ffffff 0%, #ecfff7 100%);
    }
    button:active {
      transform: translateY(0);
      box-shadow: 0 2px 8px rgba(16,185,129,.18) inset;
      background: linear-gradient(180deg, #e9fff5 0%, #ffffff 100%);
    }

    /* Tiny caption */
    .caption {
      color: #6b7280;
      font-size: 12px;
      margin-top: 6px;
    }

    /* Responsive */
    @media (max-width: 900px) {
      body > span { grid-template-columns: 1fr; }
      body > span > div:nth-of-type(2),
      body > span > div:nth-of-type(3) { position: static; }
      button { width: 100%; }
    }
  </style>
  <script src="ensure.js"></script>
</head>

<body>
  <h1>Welcome to HIBE SmartComfX</h1>

  <!-- GRID CONTAINER (your original <span> kept) -->
  <span>
    <!-- LEFT: OUTPUT PANEL (kept same content & JS) -->
    <div>
      <h3>Output</h3>
      <h1>🔴 Live Sensor Data from Raspberry Pi</h1>
      <div id="output"></div>
      <a href="output.html">Live Server</a>

      <script>
        async function fetchData() {
          try {
            const response = await fetchWithFallback(endpoints);
            // const response = await fetch('http://10.196.133.61:5000/sensor-data');
            const data = await response.json();

            let html = `
              <div class="sensor">🕒 Time: ${data.timestamp}</div>
              <div class="sensor">🌡️ Temp: ${data.temperature} °C</div>
              <div class="sensor">💧 Humidity: ${data.humidity} %</div>
              <div class="sensor">🌬️ Pressure: ${data.pressure} hPa</div>
              <div class="sensor">🔥 Gas Resistance: ${data.gas_resistance} Ω</div>
              <div class="sensor">🌈 Violet: ${data.violet}</div>
              <div class="sensor">🔵 Blue: ${data.blue}</div>
              <div class="sensor">🟢 Green: ${data.green}</div>
              <div class="sensor">🟡 Yellow: ${data.yellow}</div>
              <div class="sensor">🟠 Orange: ${data.orange}</div>
              <div class="sensor">🔴 Red: ${data.red}</div>
              <div class="sensor">💡 Ambient Light: ${data.lux} lux</div>
            `;
            document.getElementById("output").innerHTML = html;
          } catch (err) {
            document.getElementById("output").innerHTML = `<div>Error fetching data: ${err}</div>`;
          }
        }

        fetchData();
        setInterval(fetchData, 60000); // Refresh every 10 seconds 10000 every 10 - seconds 3600000 every 1 - hour 60000e every 60 seconds
        if (sessionStorage.getItem("loggedIn") === "true") {
            window.history.pushState(null, "", window.location.href);
            window.onpopstate = () => window.history.pushState(null, "", window.location.href);
            }
      </script>
    </div>

    <!-- RIGHT: BUTTONS PANEL (existing buttons + 4 more, filenames as comments) -->
    <div>
      <h3>Find more..</h3>

      <button onclick="window.location.href='csv_display_download.html'">📄 View CSV Data</button>

      <!-- Button to navigate to threshold setup page -->
      <button onclick="window.location.href='thresholdsetup.html'">⚙️ Set Temperature Thresholds</button>

      <!-- ✅ Additional Buttons (replace filenames when ready) -->
      <!-- TODO: replace 'ALERTS_FILENAME.html' -->
      <button onclick="window.location.href='thermal_dashboardcheck.html'">🚨 Thermal Camera</button>

      <!-- TODO: replace 'DOWNLOAD_RANGE_FILENAME.html' -->
      <button onclick="window.location.href='DOWNLOAD_RANGE_FILENAME.html'">📥 Download by Date Range from Cloud aka AWS</button>

      <!-- TODO: replace 'CALIBRATION_FILENAME.html' -->
      <button onclick="window.location.href='https://hibe-lab.com/'">🧪 HIBE Lab</button>

      <!-- TODO: replace 'SETTINGS_FILENAME.html' -->
      <button onclick="window.location.href='chart.html'">📊 Graph Representation</button>

      <!-- <div class="caption">Tip: Replace the placeholder filenames above with your actual pages.</div> -->
    </div>

    <!-- RIGHT: LIVE GRAPH PANEL (kept same) -->
    <!-- <div style="margin-top: 00px;">
      <h3>Graph Representation</h3>
      <p>📈 Click below to view live-updating sensor data chart</p>
      <button onclick="window.location.href='chart.html'">📊 View Live Graph</button>
    </div> -->
  </span>
</body>
</html>
